<section class="dashboard" *ngIf="isBrowser">
  <!-- Floating Background Shapes -->
  <div class="floating-shapes">
    <div class="shape shape-1"></div>
    <div class="shape shape-2"></div>
    <div class="shape shape-3"></div>
  </div>

  <div class="dashboard-container">
    <!-- Hero Welcome Section -->
    <section class="hero-section glass-strong" #hero>
      <div class="progress-tracker">{{ 'dashboardPage.hero.step' | translate }}</div>
      <div class="hero-content">
        <div class="hero-text">
          <h1><span class="wave-emoji">👋</span> {{ 'dashboardPage.hero.title' | translate }}</h1>
          <p>{{ 'dashboardPage.hero.subtitle' | translate }}</p>
        </div>

        <!-- AI tip card (optional but referenced by your script) -->
        <div class="ai-tip" *ngIf="aiTipEnabled">
          <div class="ai-tip-header">
            <div class="ai-tip-icon">🤖</div>
            <strong>{{ 'dashboardPage.hero.ai_tip' | translate }}</strong>
          </div>
          <div class="ai-tip-text">{{ currentTip }}</div>
        </div>
      </div>
    </section>

    <!-- KPI Cards Section -->
    <section class="kpi-section">
      <div class="kpi-card" appAnimateOnIntersect>
        <div class="kpi-icon kpi-icon-1">📚</div>
        <div class="kpi-number" appKpiNumber="12">12</div>
        <div class="kpi-label">{{ 'dashboardPage.kpi.activeCourses' | translate }}</div>
        <a href="#" class="kpi-link">{{ 'dashboardPage.kpi.viewAllCourses' | translate }}</a>
      </div>
      <div class="kpi-card" appAnimateOnIntersect>
        <div class="kpi-icon kpi-icon-2">👥</div>
        <div class="kpi-number" appKpiNumber="248">248</div>
        <div class="kpi-label">{{ 'dashboardPage.kpi.totalStudents' | translate }}</div>
        <a href="#" class="kpi-link">{{ 'dashboardPage.kpi.manageStudents' | translate }}</a>
      </div>
      <div class="kpi-card" appAnimateOnIntersect>
        <div class="kpi-icon kpi-icon-3">🎮</div>
        <div class="kpi-number" appKpiNumber="37">37</div>
        <div class="kpi-label">{{ 'dashboardPage.kpi.gamesCreated' | translate }}</div>
        <a href="#" class="kpi-link">{{ 'dashboardPage.kpi.browseGames' | translate }}</a>
      </div>
      <div class="kpi-card" appAnimateOnIntersect>
        <div class="kpi-icon kpi-icon-4">📊</div>
        <div class="kpi-number" appKpiNumber="89" [percent]="true">89%</div>
        <div class="kpi-label">{{ 'dashboardPage.kpi.avgScore' | translate }}</div>
        <a href="#" class="kpi-link">{{ 'dashboardPage.kpi.viewAnalytics' | translate }}</a>
      </div>
    </section>

    <!-- Quick Actions Section -->
    <section class="actions-section">
      <div class="action-card action-1 glass-card" appRipple (click)="onCreateCourse()">
        <span class="action-step">{{ 'dashboardPage.actions.quickAction' | translate }}</span>
        <div class="action-icon">🚀</div>
        <div class="action-title">{{ 'dashboardPage.actions.createCourse' | translate }}</div>
        <div class="action-subtitle">{{ 'dashboardPage.actions.createCourseSub' | translate }}</div>
      </div>
      <div class="action-card action-2 glass-card" appRipple>
        <div class="action-icon">✨</div>
        <div class="action-title">{{ 'dashboardPage.actions.newActivity' | translate }}</div>
        <div class="action-subtitle">{{ 'dashboardPage.actions.newActivitySub' | translate }}</div>
      </div>
      <div class="action-card action-3 glass-card" appRipple>
        <div class="action-icon">📧</div>
        <div class="action-title">{{ 'dashboardPage.actions.inviteStudents' | translate }}</div>
        <div class="action-subtitle">{{ 'dashboardPage.actions.inviteStudentsSub' | translate }}</div>
      </div>
      <div class="action-card action-4 glass-card" appRipple>
        <div class="action-icon">🎯</div>
        <div class="action-title">{{ 'dashboardPage.actions.hostLive' | translate }}</div>
        <div class="action-subtitle">{{ 'dashboardPage.actions.hostLiveSub' | translate }}</div>
      </div>
    </section>

    <!-- Today's Highlights -->
    <section class="highlights-section glass-card">
      <h2 class="section-title">{{ 'dashboardPage.highlights.title' | translate }}</h2>
      <div class="highlight-item" appAnimateOnIntersect>
        <div class="highlight-icon">⏰</div>
        <div class="highlight-content">
          <h4>{{ 'dashboardPage.highlights.item1Title' | translate }}</h4>
          <span class="highlight-time">{{ 'dashboardPage.highlights.item1Time' | translate }}</span>
        </div>
        <button class="action-button">{{ 'dashboardPage.highlights.start' | translate }}</button>
      </div>
      <div class="highlight-item" appAnimateOnIntersect>
        <div class="highlight-icon">📚</div>
        <div class="highlight-content">
          <h4>{{ 'dashboardPage.highlights.item2Title' | translate }}</h4>
          <span class="highlight-time">{{ 'dashboardPage.highlights.item2Time' | translate }}</span>
        </div>
        <button class="action-button">{{ 'dashboardPage.highlights.prepare' | translate }}</button>
      </div>
      <div class="highlight-item" appAnimateOnIntersect>
        <div class="highlight-icon">🎨</div>
        <div class="highlight-content">
          <h4>{{ 'dashboardPage.highlights.item3Title' | translate }}</h4>
          <span class="highlight-time">{{ 'dashboardPage.highlights.item3Time' | translate }}</span>
        </div>
        <button class="action-button">{{ 'dashboardPage.highlights.details' | translate }}</button>
      </div>
    </section>

    <!-- Recent Activity -->
    <section class="activity-section glass-card">
      <h2 class="section-title">{{ 'dashboardPage.activity.title' | translate }}</h2>

      <div class="activity-item" appAnimateOnIntersect>
        <div class="activity-avatar">JD</div>
        <div class="activity-content">
          <div class="activity-text">
            <strong>John Davis</strong> completed "World History Quiz" with
            <span class="activity-score">95%</span> 🎉
          </div>
          <div class="activity-time">{{ 'dashboardPage.activity.time2min' | translate }}</div>
        </div>
      </div>

      <!-- … repeat the rest of your items … -->
    </section>

    <!-- Library -->
    <section class="library-section">
      <h2 class="section-title">{{ 'dashboardPage.library.title' | translate }}</h2>
      <div class="library-carousel">
        <div class="library-card glass-card" appAnimateOnIntersect>
          <div class="library-image">
            <div class="library-plays">{{ 'dashboardPage.library.plays' | translate:{count:'2.3k'} }}</div>
          </div>
          <div class="library-content">
            <h3 class="library-title">{{ 'dashboardPage.library.card1Title' | translate }}</h3>
            <p class="library-description">{{ 'dashboardPage.library.card1Desc' | translate }}</p>
            <button class="library-button">{{ 'dashboardPage.library.useInCourse' | translate }}</button>
          </div>
        </div>
                <div class="library-card glass-card">
                    <div class="library-image library-image-2">
                        <div class="library-plays">{{ 'dashboardPage.library.plays' | translate:{count:'1.8k'} }}</div>
                    </div>
                    <div class="library-content">
                        <h3 class="library-title">{{ 'dashboardPage.library.card2Title' | translate }}</h3>
                        <p class="library-description">{{ 'dashboardPage.library.card2Desc' | translate }}</p>
                        <button class="library-button">{{ 'dashboardPage.library.useInCourse' | translate }}</button>
                    </div>
                </div>
                <div class="library-card glass-card">
                    <div class="library-image library-image-3">
                        <div class="library-plays">{{ 'dashboardPage.library.plays' | translate:{count:'3.1k'} }}</div>
                    </div>
                    <div class="library-content">
                        <h3 class="library-title">{{ 'dashboardPage.library.card3Title' | translate }}</h3>
                        <p class="library-description">{{ 'dashboardPage.library.card3Desc' | translate }}</p>
                        <button class="library-button">{{ 'dashboardPage.library.useInCourse' | translate }}</button>
                    </div>
                </div>
                <div class="library-card glass-card">
                    <div class="library-image library-image-4">
                        <div class="library-plays">{{ 'dashboardPage.library.plays' | translate:{count:'2.7k'} }}</div>
                    </div>
                    <div class="library-content">
                        <h3 class="library-title">{{ 'dashboardPage.library.card4Title' | translate }}</h3>
                        <p class="library-description">{{ 'dashboardPage.library.card4Desc' | translate }}</p>
                        <button class="library-button">{{ 'dashboardPage.library.useInCourse' | translate }}</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Empty State Examples (Hidden by default, shown when no data) -->
        <div style="display: none;">
            <div class="empty-state">
                <div class="empty-state-icon">📚</div>
                <div class="empty-state-text">{{ 'dashboardPage.empty.noCourses' | translate }}</div>
                <div class="empty-state-subtext">{{ 'dashboardPage.empty.createFirst' | translate }}</div>
            </div>
        </div>
    </div>
</section>
