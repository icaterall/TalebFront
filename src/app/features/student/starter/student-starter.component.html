<div class="starter-page" [dir]="isRTL ? 'rtl' : 'ltr'">
  
  <!-- Vibrant Hero Header with Gradient -->
  <div class="hero-header">
    <div class="decorative-shapes">
      <div class="shape-pattern"></div>
      <div class="shape-circle-1"></div>
      <div class="shape-circle-2"></div>
    </div>
    
    <div class="hero-content">
      <div class="badge-group">
        <span class="badge">ğŸ“ {{ student?.education_stage_name || student?.stage_name || (currentLang === 'ar' ? 'Ø§Ù„Ù…Ø±Ø­Ù„Ø©' : 'Stage') }}</span>
        <span class="badge">ğŸŒ {{ student?.country_name || (currentLang === 'ar' ? 'Ø§Ù„Ø¯ÙˆÙ„Ø©' : 'Country') }}</span>
      </div>
      <h1>{{ currentLang === 'ar' ? 'âœ¨ Ø£Ù†Ø´Ø¦ Ø¯Ø±Ø³Ùƒ Ù…Ø¹ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ' : 'âœ¨ Create Your Course with AI' }}</h1>
      <p class="hero-subtitle">
        {{ currentLang === 'ar' 
          ? 'Ø§Ø®ØªØ± Ù…ÙˆØ¶ÙˆØ¹Ù‹Ø§ ÙˆØ§Ø­Ø¯Ù‹Ø§ ÙˆØ³ÙŠØ³Ø§Ø¹Ø¯Ùƒ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙÙŠ Ø¨Ù†Ø§Ø¡ Ø¯Ø±Ø³ Ø§Ø­ØªØ±Ø§ÙÙŠ Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ©.'
          : 'Pick one topic and AI will help you build a professional course step by step.' }}
      </p>
    </div>
  </div>

  <!-- Category Selection Card (overlaps hero) -->
  <div class="category-card-wrapper">
    <div class="category-card">
      
      <!-- Selected Category Display -->
      <div class="selected-display" *ngIf="selectedCategory">
        <div class="selected-badge">
          <span class="selected-icon">{{ selectedCategory.icon }}</span>
          <div class="selected-info">
            <span class="selected-label">{{ currentLang === 'ar' ? 'Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ù…Ø®ØªØ§Ø±' : 'Selected Category' }}</span>
            <span class="selected-name">{{ getCategoryName(selectedCategory) }}</span>
          </div>
          <button class="change-btn" (click)="selectedCategory = null; selectedCategoryId = null">
            {{ currentLang === 'ar' ? 'ØªØºÙŠÙŠØ±' : 'Change' }}
          </button>
        </div>
      </div>

      <!-- Category Selection -->
      <div *ngIf="!selectedCategory">
        <div class="card-header">
          <h2>ğŸ“š {{ currentLang === 'ar' ? 'Ø§Ø®ØªØ± Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹' : 'Choose Your Category' }}</h2>
          <p>{{ currentLang === 'ar' ? 'Ø§Ù„Ø£ÙƒØ«Ø± ØµÙ„Ø© Ø¨Ù…Ø±Ø­Ù„ØªÙƒ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©' : 'Most relevant for your education stage' }}</p>
        </div>

        <!-- Loading Skeleton -->
        <div class="categories-grid" *ngIf="loading">
          <div class="cat-box skeleton" *ngFor="let i of [1,2,3,4,5,6]"></div>
        </div>

        <!-- Smart Six Categories -->
        <div class="categories-grid" *ngIf="!loading && smartSix.length > 0">
          <button 
            *ngFor="let cat of smartSix"
            class="cat-box"
            (click)="selectCategory(cat)">
            <span class="cat-icon">{{ cat.icon }}</span>
            <span class="cat-name">{{ getCategoryName(cat) }}</span>
            <span class="cat-arrow">â†’</span>
          </button>
        </div>

        <!-- Search Other Categories -->
        <div class="search-section">
          <div class="search-header">
            <span class="search-icon">ğŸ”</span>
            <h3>{{ currentLang === 'ar' ? 'Ø£Ùˆ Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…ÙˆØ¶ÙˆØ¹ Ø¢Ø®Ø±' : 'Or search for another category' }}</h3>
          </div>
          <ng-select
            [items]="allCategories"
            [bindLabel]="currentLang === 'ar' ? 'name_ar' : 'name_en'"
            bindValue="id"
            [searchable]="true"
            [clearable]="true"
            [placeholder]="currentLang === 'ar' ? 'Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…ÙˆØ¶ÙˆØ¹...' : 'Search for a category...'"
            [(ngModel)]="selectedCategoryId"
            (change)="onNgSelectChange()">
            <ng-template ng-option-tmp let-item="item">
              <div class="select-option">
                <span class="opt-icon">{{ item.icon }}</span>
                <span class="opt-name">{{ getCategoryName(item) }}</span>
              </div>
            </ng-template>
          </ng-select>
        </div>
      </div>
    </div>
  </div>

  <!-- Action Buttons -->
  <div class="action-section">
    <button 
      class="btn-continue" 
      [disabled]="!canContinue"
      (click)="continue()">
      <span class="btn-icon">âœ¨</span>
      <span>{{ currentLang === 'ar' ? 'Ù…ØªØ§Ø¨Ø¹Ø©' : 'Continue' }}</span>
    </button>
    
    <button class="btn-skip" (click)="skipToTopMatch()" *ngIf="!selectedCategory && smartSix.length > 0">
      {{ currentLang === 'ar' ? 'ØªØ®Ø·ÙŠ (Ø§Ø®ØªÙŠØ§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠ)' : 'Skip (Auto-pick)' }}
    </button>
  </div>

  <!-- Info Preview -->
  <div class="info-preview" *ngIf="selectedCategory">
    <h3>{{ currentLang === 'ar' ? 'Ù…Ø§ Ø³Ù†Ø¨Ù†ÙŠÙ‡ Ù…Ø¹Ù‹Ø§:' : 'What we\'ll build together:' }}</h3>
    <div class="preview-grid">
      <div class="preview-item">
        <span class="preview-icon">ğŸ“‹</span>
        <span>{{ currentLang === 'ar' ? 'Ø§Ø³Ù… ÙˆÙ…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ø¯Ø±Ø³' : 'Course name & subject' }}</span>
      </div>
      <div class="preview-item">
        <span class="preview-icon">ğŸ“š</span>
        <span>{{ currentLang === 'ar' ? '3-5 ÙˆØ­Ø¯Ø§Øª ØªØ¹Ù„ÙŠÙ…ÙŠØ©' : '3â€“5 learning units' }}</span>
      </div>
      <div class="preview-item">
        <span class="preview-icon">ğŸ“</span>
        <span>{{ currentLang === 'ar' ? 'Ù…Ø­ØªÙˆÙ‰ ØªÙØ§Ø¹Ù„ÙŠ' : 'Interactive content' }}</span>
      </div>
      <div class="preview-item">
        <span class="preview-icon">ğŸ¯</span>
        <span>{{ currentLang === 'ar' ? 'Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù‚ØµÙŠØ±Ø©' : 'Quick quizzes' }}</span>
      </div>
      <div class="preview-item">
        <span class="preview-icon">ğŸ¬</span>
        <span>{{ currentLang === 'ar' ? 'Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª ÙˆØ³Ø§Ø¦Ø·' : 'Media suggestions' }}</span>
      </div>
    </div>
  </div>
</div>

