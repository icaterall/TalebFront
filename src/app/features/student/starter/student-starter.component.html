<div class="starter-page" [dir]="isRTL ? 'rtl' : 'ltr'">
  
  <!-- Vibrant Hero Header with Gradient -->
  <div class="hero-header">
    <div class="decorative-shapes">
      <div class="shape-pattern"></div>
      <div class="shape-circle-1"></div>
      <div class="shape-circle-2"></div>
    </div>
    
    <div class="hero-content">
      <div class="badge-group">
        <span class="badge">ğŸ“ {{ stageName }}</span>
        <span class="badge">ğŸŒ {{ countryName }}</span>
      </div>
      <h1>{{ currentLang === 'ar' ? 'âœ¨ Ø£Ù†Ø´Ø¦ Ø¯Ø±Ø³Ùƒ Ù…Ø¹ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ' : 'âœ¨ Create Your Course with AI' }}</h1>
      <p class="hero-subtitle">
        {{ currentLang === 'ar' 
          ? 'Ø§Ø®ØªØ± Ù…ÙˆØ¶ÙˆØ¹Ù‹Ø§ ÙˆØ§Ø­Ø¯Ù‹Ø§ ÙˆØ³ÙŠØ³Ø§Ø¹Ø¯Ùƒ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙÙŠ Ø¨Ù†Ø§Ø¡ Ø¯Ø±Ø³ Ø§Ø­ØªØ±Ø§ÙÙŠ Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ©.'
          : 'Pick one topic and AI will help you build a professional course step by step.' }}
      </p>
    </div>
  </div>

  <!-- Wizard Card Overlapping Hero -->
  <div class="wizard-card">
    <div class="wizard-card-inner">
    <!-- Wizard Progress -->
    <div class="wizard-progress">
      <div class="progress-step" [ngClass]="{'completed': !!selectedCategory, 'current': !selectedCategory}">
        <div class="step-circle">
          <ng-container *ngIf="selectedCategory; else stepOne">
            <span class="check-icon">âœ”</span>
          </ng-container>
          <ng-template #stepOne>1</ng-template>
        </div>
        <div class="step-labels">
          <span class="step-name">{{ currentLang === 'ar' ? 'Ø§Ù„ØªØµÙ†ÙŠÙ' : 'Category' }}</span>
        </div>
      </div>
      <div class="progress-step pending">
        <div class="step-circle">2</div>
        <div class="step-labels">
          <span class="step-name">{{ currentLang === 'ar' ? 'Ø£Ø³Ø§Ø³ÙŠØ§Øª Ø§Ù„Ù…Ù‚Ø±Ø±' : 'Course Basics' }}</span>
        </div>
      </div>
      <div class="progress-step pending">
        <div class="step-circle">3</div>
        <div class="step-labels">
          <span class="step-name">{{ currentLang === 'ar' ? 'Ø¨Ù†Ø§Ø¡ Ø§Ù„ÙˆØ­Ø¯Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰' : 'Build First Unit' }}</span>
        </div>
      </div>
      <div class="progress-step pending">
        <div class="step-circle">4</div>
        <div class="step-labels">
          <span class="step-name">{{ currentLang === 'ar' ? 'Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆÙ†Ø´Ø±' : 'Review & Publish' }}</span>
        </div>
      </div>
    </div>

    <!-- Wizard Body -->
    <div class="wizard-body">
      <!-- Selected Category Display -->
      <div class="selected-display" *ngIf="selectedCategory">
        <div class="selected-badge">
          <span class="selected-icon">{{ selectedCategory.icon }}</span>
          <div class="selected-info">
            <span class="selected-label">{{ currentLang === 'ar' ? 'Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ù…Ø®ØªØ§Ø±' : 'Selected Category' }}</span>
            <span class="selected-name">{{ getCategoryName(selectedCategory) }}</span>
          </div>
          <button class="change-btn" (click)="selectedCategory = null; selectedCategoryId = null">
            {{ currentLang === 'ar' ? 'ØªØºÙŠÙŠØ±' : 'Change' }}
          </button>
        </div>
      </div>

      <!-- Category Selection -->
      <div *ngIf="!selectedCategory" class="search-section">
        <div class="card-header">
          <h2>ğŸ“š {{ currentLang === 'ar' ? 'Ø§Ø®ØªØ± Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹' : 'Choose Your Category' }}</h2>
          <p>{{ currentLang === 'ar' ? 'Ø§Ù„Ø£ÙƒØ«Ø± ØµÙ„Ø© Ø¨Ù…Ø±Ø­Ù„ØªÙƒ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©' : 'Most relevant for your education stage' }}</p>
        </div>

        <!-- Loading Skeleton -->
        <div class="categories-grid" *ngIf="loading">
          <div class="cat-box skeleton" *ngFor="let i of [1,2,3,4,5,6]"></div>
        </div>

        <!-- Smart Six Categories -->
        <div class="categories-grid" *ngIf="!loading && smartSix.length > 0">
          <div
            *ngFor="let cat of smartSix"
            class="cat-box"
            (click)="selectCategory(cat)">
            <span class="cat-icon">{{ cat.icon }}</span>
            <span class="cat-name">{{ getCategoryName(cat) }}</span>
          </div>
        </div>

        <!-- Search Other Categories -->
        <div class="search-header">
          <span class="search-icon">ğŸ”</span>
          <h3>{{ currentLang === 'ar' ? 'Ø£Ùˆ Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…ÙˆØ¶ÙˆØ¹ Ø¢Ø®Ø±' : 'Or search for another category' }}</h3>
        </div>
        <ng-select
          [items]="allCategories"
          [bindLabel]="currentLang === 'ar' ? 'name_ar' : 'name_en'"
          bindValue="id"
          [searchable]="true"
          [clearable]="true"
          [placeholder]="currentLang === 'ar' ? 'Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…ÙˆØ¶ÙˆØ¹...' : 'Search for a category...'"
          [(ngModel)]="selectedCategoryId"
          (change)="onNgSelectChange()">
          <ng-template ng-option-tmp let-item="item">
            <div class="select-option">
              <span class="opt-icon">{{ item.icon }}</span>
              <span class="opt-name">{{ getCategoryName(item) }}</span>
            </div>
          </ng-template>
        </ng-select>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="wizard-actions">
      <button 
        class="btn-continue" 
        [disabled]="!canContinue"
        (click)="continue()">
        <span class="btn-icon">ğŸ¤–</span>
        <span>{{ currentLang === 'ar' ? 'Ù…ØªØ§Ø¨Ø¹Ø©' : 'Continue' }}</span>
      </button>
      
      <button class="btn-skip" (click)="skipToTopMatch()" *ngIf="!selectedCategory && smartSix.length > 0">
        {{ currentLang === 'ar' ? 'ØªØ®Ø·ÙŠ (Ø§Ø®ØªÙŠØ§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠ)' : 'Skip (Auto-pick)' }}
      </button>
    </div>
    </div>
  </div>

  <!-- Info Preview -->
  <div class="info-preview" *ngIf="selectedCategory">
    <h3>{{ currentLang === 'ar' ? 'Ø®Ø·ÙˆØ§Øª Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù…Ù‚Ø±Ø±:' : 'Course Building Steps:' }}</h3>
    <div class="preview-grid">
      <div class="preview-item">
        <span class="preview-icon">âœ…</span>
        <span class="preview-title">{{ currentLang === 'ar' ? 'Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø§Ù„ØªØµÙ†ÙŠÙ' : 'Step 1: Category' }}</span>
        <span class="preview-desc">{{ currentLang === 'ar' ? 'Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØªØµÙ†ÙŠÙ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ (Ù…ÙƒØªÙ…Ù„)' : 'Pick main category (completed)' }}</span>
      </div>
      <div class="preview-item">
        <span class="preview-icon">ğŸ“</span>
        <span class="preview-title">{{ currentLang === 'ar' ? 'Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø£Ø³Ø§Ø³ÙŠØ§Øª Ø§Ù„Ù…Ù‚Ø±Ø±' : 'Step 2: Course Basics' }}</span>
        <span class="preview-desc">{{ currentLang === 'ar' ? 'Ø§Ø³Ù… Ø§Ù„Ù…Ù‚Ø±Ø±ØŒ Ù…ÙˆØ¶ÙˆØ¹ Ø§Ø®ØªÙŠØ§Ø±ÙŠØŒ Ùˆ3-5 ÙˆØ­Ø¯Ø§Øª' : 'Name, optional subject, and 3-5 units' }}</span>
      </div>
      <div class="preview-item">
        <span class="preview-icon">ğŸ¯</span>
        <span class="preview-title">{{ currentLang === 'ar' ? 'Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø¨Ù†Ø§Ø¡ Ø§Ù„ÙˆØ­Ø¯Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰' : 'Step 3: Build First Unit' }}</span>
        <span class="preview-desc">{{ currentLang === 'ar' ? 'Ø£Ù‡Ø¯Ø§ÙØŒ Ù…Ø­ØªÙˆÙ‰ Ù…Ø®ØªØµØ±ØŒ ÙˆØ§Ø®ØªØ¨Ø§Ø± Ù…Ù† 3 Ø£Ø³Ø¦Ù„Ø©' : 'Objectives, brief content, and 3-question quiz' }}</span>
      </div>
      <div class="preview-item">
        <span class="preview-icon">ğŸš€</span>
        <span class="preview-title">{{ currentLang === 'ar' ? 'Ø§Ù„Ø®Ø·ÙˆØ© 4: Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆÙ†Ø´Ø±' : 'Step 4: Review & Publish' }}</span>
        <span class="preview-desc">{{ currentLang === 'ar' ? 'ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø±Ø¤ÙŠØ© ÙˆØ§Ù„Ù†Ø´Ø± Ù…Ø¹ Ù‚Ø³Ù… Ø§Ø®ØªÙŠØ§Ø±ÙŠ' : 'Set visibility and publish with optional section' }}</span>
      </div>
    </div>
  </div>
</div>

