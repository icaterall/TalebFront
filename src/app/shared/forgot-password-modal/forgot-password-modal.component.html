<div class="modal-overlay" (click)="onBackdropClick($event)">
  <div class="modal-container" (click)="$event.stopPropagation()">
    <!-- Close button -->
    <button class="modal-close" (click)="close()" aria-label="Close">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
    </button>

    <!-- Success State -->
    <div *ngIf="emailSent" class="success-state">
      <div class="success-icon">
        <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="32" cy="32" r="32" fill="#10B981" fill-opacity="0.1"/>
          <path d="M44 24L28 40L20 32" stroke="#10B981" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
      <h2 class="modal-title">{{ 'general.success' | translate }}</h2>
      <p class="success-message">{{ 'general.resetLinkSentCheckEmail' | translate }}</p>
      <p class="email-info">{{ email }}</p>
      
      <button class="btn-primary" (click)="goBackToLogin()">
        {{ 'general.backToLoginPage' | translate }}
      </button>
    </div>

    <!-- Form State -->
    <div *ngIf="!emailSent" class="form-state">
      <h2 class="modal-title">{{ 'general.forgotpassword' | translate }}</h2>
      <p class="modal-subtitle">{{ 'general.emailResetInstrctuion' | translate }}</p>

      <form (ngSubmit)="onSubmit()" class="forgot-password-form">
        <div class="form-group">
          <label for="email" class="form-label">
            {{ 'general.email' | translate }}
          </label>
          <input
            type="email"
            id="email"
            name="email"
            [(ngModel)]="email"
            class="form-input"
            [placeholder]="'authModal.emailPlaceholder' | translate"
            required
            autofocus
          />
        </div>

        <button 
          type="submit" 
          class="btn-primary" 
          [disabled]="isSubmitting || !email">
          <span *ngIf="!isSubmitting">{{ 'general.sendResetLink' | translate }}</span>
          <span *ngIf="isSubmitting">
            <span class="spinner"></span>
            {{ 'general.sending' | translate }}
          </span>
        </button>
      </form>

      <div class="back-to-login">
        <button class="link-button" (click)="goBackToLogin()">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15 10H5M10 15L5 10L10 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          {{ 'general.waitIrememberMyPassword' | translate }}
        </button>
      </div>
    </div>
  </div>
</div>

